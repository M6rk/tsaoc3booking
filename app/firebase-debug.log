[debug] [2025-08-27T17:21:48.775Z] ----------------------------------------------------------------------
[debug] [2025-08-27T17:21:48.782Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\mark\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy
[debug] [2025-08-27T17:21:48.782Z] CLI Version:   14.12.0
[debug] [2025-08-27T17:21:48.782Z] Platform:      win32
[debug] [2025-08-27T17:21:48.783Z] Node Version:  v22.18.0
[debug] [2025-08-27T17:21:48.783Z] Time:          Wed Aug 27 2025 10:21:48 GMT-0700 (Pacific Daylight Time)
[debug] [2025-08-27T17:21:48.784Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-27T17:21:49.112Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-27T17:21:49.113Z] > authorizing via signed-in user (mark.lovesey@salvationarmy.ca)
[debug] [2025-08-27T17:21:49.113Z] [iam] checking project tsaoc3booking for permissions ["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update"]
[debug] [2025-08-27T17:21:49.115Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:49.115Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:49.116Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/tsaoc3booking:testIamPermissions [none]
[debug] [2025-08-27T17:21:49.116Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/tsaoc3booking:testIamPermissions x-goog-quota-user=projects/tsaoc3booking
[debug] [2025-08-27T17:21:49.117Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/tsaoc3booking:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2025-08-27T17:21:49.419Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/tsaoc3booking:testIamPermissions 200
[debug] [2025-08-27T17:21:49.419Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/tsaoc3booking:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2025-08-27T17:21:49.420Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:49.420Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:49.421Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/tsaoc3booking [none]
[debug] [2025-08-27T17:21:49.799Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/tsaoc3booking 200
[debug] [2025-08-27T17:21:49.799Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/tsaoc3booking {"projectId":"tsaoc3booking","projectNumber":"352478998941","displayName":"TSAOC3Booking","name":"projects/tsaoc3booking","resources":{"hostingSite":"tsaoc3booking"},"state":"ACTIVE","etag":"1_066ac5c8-3f1e-4223-ac2f-cd38a3c495ff"}
[info] 
[info] === Deploying to 'tsaoc3booking'...
[info] 
[info] i  deploying firestore, hosting 
[info] i  firestore: reading indexes from firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore.rules for compilation errors... 
[debug] [2025-08-27T17:21:49.825Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:49.825Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:49.825Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/tsaoc3booking:test [none]
[debug] [2025-08-27T17:21:49.825Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/tsaoc3booking:test [omitted]
[debug] [2025-08-27T17:21:50.096Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/tsaoc3booking:test 200
[debug] [2025-08-27T17:21:50.096Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/tsaoc3booking:test {}
[info] +  cloud.firestore: rules file firestore.rules compiled successfully 
[debug] [2025-08-27T17:21:50.098Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:50.098Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:50.099Z] >>> [apiv2][query] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/tsaoc3booking/versions [none]
[debug] [2025-08-27T17:21:50.099Z] >>> [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/tsaoc3booking/versions {"status":"CREATED","labels":{"deployment-tool":"cli-firebase"}}
[debug] [2025-08-27T17:21:50.855Z] <<< [apiv2][status] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/tsaoc3booking/versions 200
[debug] [2025-08-27T17:21:50.856Z] <<< [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/tsaoc3booking/versions {"name":"projects/352478998941/sites/tsaoc3booking/versions/f6a30a8401e25c90","status":"CREATED","config":{},"labels":{"deployment-tool":"cli-firebase"}}
[debug] [2025-08-27T17:21:50.857Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:50.857Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:50.857Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/tsaoc3booking/databases/(default) [none]
[debug] [2025-08-27T17:21:51.289Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/tsaoc3booking/databases/(default) 200
[debug] [2025-08-27T17:21:51.289Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/tsaoc3booking/databases/(default) {"name":"projects/tsaoc3booking/databases/(default)","uid":"cd7a1e54-f283-4619-9527-c0de737d3d3d","createTime":"2025-08-11T17:19:20.422065Z","updateTime":"2025-08-11T17:19:20.422065Z","locationId":"nam5","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2025-08-27T16:21:50.955750Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"s","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","databaseEdition":"STANDARD","freeTier":true,"etag":"IIC25LHAq48DMPj487yjg48D"}
[debug] [2025-08-27T17:21:51.290Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:51.290Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:51.290Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/tsaoc3booking/releases pageSize=10&pageToken=
[debug] [2025-08-27T17:21:51.404Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/tsaoc3booking/releases 200
[debug] [2025-08-27T17:21:51.404Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/tsaoc3booking/releases {"releases":[{"name":"projects/tsaoc3booking/releases/cloud.firestore","rulesetName":"projects/tsaoc3booking/rulesets/c7449ce4-477c-403c-8b92-bc534f5d3e43","createTime":"2025-08-11T17:19:22.716086Z","updateTime":"2025-08-27T17:08:39.455921Z"}]}
[debug] [2025-08-27T17:21:51.404Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:51.404Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:51.404Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/tsaoc3booking/rulesets/c7449ce4-477c-403c-8b92-bc534f5d3e43 [none]
[debug] [2025-08-27T17:21:51.673Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/tsaoc3booking/rulesets/c7449ce4-477c-403c-8b92-bc534f5d3e43 200
[debug] [2025-08-27T17:21:51.673Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/tsaoc3booking/rulesets/c7449ce4-477c-403c-8b92-bc534f5d3e43 [omitted]
[info] i  firestore: latest version of firestore.rules already up to date, skipping upload... 
[info] i  firestore: deploying indexes... 
[debug] [2025-08-27T17:21:51.676Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:51.676Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:51.677Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/tsaoc3booking/databases/(default)/collectionGroups/-/indexes [none]
[debug] [2025-08-27T17:21:51.815Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/tsaoc3booking/databases/(default)/collectionGroups/-/indexes 200
[debug] [2025-08-27T17:21:51.815Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/tsaoc3booking/databases/(default)/collectionGroups/-/indexes {"indexes":[{"name":"projects/tsaoc3booking/databases/(default)/collectionGroups/vehicleBookings/indexes/CICAgJim14AK","queryScope":"COLLECTION","fields":[{"fieldPath":"date","order":"DESCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/tsaoc3booking/databases/(default)/collectionGroups/roomBookings/indexes/CICAgOjXh4EK","queryScope":"COLLECTION","fields":[{"fieldPath":"date","order":"DESCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"}]}
[debug] [2025-08-27T17:21:51.816Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:51.816Z] Checked if tokens are valid: true, expires at: 1756316333461
[debug] [2025-08-27T17:21:51.816Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/tsaoc3booking/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* [none]
[debug] [2025-08-27T17:21:51.924Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/tsaoc3booking/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* 200
[debug] [2025-08-27T17:21:51.925Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/tsaoc3booking/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* {"fields":[{"name":"projects/tsaoc3booking/databases/(default)/collectionGroups/__default__/fields/*","indexConfig":{"indexes":[{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","order":"ASCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","order":"DESCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","arrayConfig":"CONTAINS"}],"state":"READY"}]}}]}
[info] i  firestore: The following indexes are defined in your project but are not present in your firestore indexes file:
	(vehicleBookings) -- (date,DESCENDING) (createdAt,DESCENDING) 
	(roomBookings) -- (date,DESCENDING) (createdAt,DESCENDING)  
[debug] [2025-08-27T18:14:44.996Z] ExitPromptError: User force closed the prompt with SIGINT
    at Interface.sigint (C:\Users\mark\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\create-prompt.js:101:37)
    at Interface.emit (node:events:518:28)
    at Interface.emit (node:domain:489:12)
    at [_ttyWrite] [as _ttyWrite] (node:internal/readline/interface:1132:18)
    at ReadStream.onkeypress (node:internal/readline/interface:271:20)
    at ReadStream.emit (node:events:530:35)
    at ReadStream.emit (node:domain:489:12)
    at emitKeys (node:internal/readline/utils:370:14)
    at emitKeys.next (<anonymous>)
    at ReadStream.onData (node:internal/readline/emitKeypressEvents:64:36)
[error] 
[error] Error: An unexpected error has occurred.
